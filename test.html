<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script
            src="https://code.jquery.com/jquery-3.2.1.min.js"
            integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
            crossorigin="anonymous"></script>
    <title>Document</title>
</head>
<body>

</body>
<script type="text/javascript">
//    function sumArrays ( array1, array2) {
//        var sum = array1.map(function (num, idx) {
//            return Math.abs(num - array2[idx]);
//        });
//        return sum;
//    }
//    a = [1,2,3];
//    b = [10,3,4];
//    console.log(sumArrays ( a, b));
//
//$.each(b, function (index, value) {
//    console.log(index + ": " + value);
//});
//
//    var arr = [100, 2, 3];
//    var min = Math.min(...arr);

var newuser = {"name":"newOne","photo":"newOne","scores":["3","2","3","2","5","3","3","2","4","3"]}

    var friendsData = [
        {"name":"roman","photo":"brito","scores":["1","1","1","2","4","3","3","2","4","3"]},
        {"name":"roman2","photo":"brito","scores":["1","2","3","2","4","3","3","2","4","3"]},
        {"name":"omar","photo":"brito","scores":["4","5","5","5","5","5","5","5","5","5"]},
        {"name":"roman3","photo":"roman.jpb","scores":["1","1","1","1","1","1","1","1","1","1"]},
        {"name":"roman4","photo":"roman.jpb","scores":["1","2","3","2","4","3","3","2","4","4"]}

        ];

function sumArraysABS ( array1, array2) {
    var arrDiff = array1.map(function (num, idx) {
        return Math.abs(num - array2[idx]);
    });
    var sum = arrDiff.reduce(function (a, b) {
        return a + b;
    }, 0);
    return sum;
}

var bestMatcharr = [];
$.each(friendsData,function (index, value) {
//    console.log(index + ": " + value.name);
    var sum = sumArraysABS(newuser.scores, friendsData[index].scores);
    friendsData[index].diff = sum;

  //  console.log(friendsData[index]);

    bestMatcharr.push(friendsData[index]);
});

bestMatcharr.sort(function (a, b) {
    return a.diff - b.diff;
});

console.log(bestMatcharr[0]);

//var bestMatch = bestMatcharr[0];
//for (var i = 0; i < bestMatcharr.length-1; i++) {
//    if (bestMatch.diff >= bestMatcharr[i+1].diff) {
//        bestMatch = bestMatcharr[i+1];
//    }
//}
//console.log(bestMatch.name);

//var min = bestMatcharr.reduce(function (acc, curr, ind, arr) {
//    //return Math.min(acc.diff, curr.diff);
//    if (acc.diff > curr.diff) console.log(acc);
//});

//console.log(min);
//console.log(bestMatcharr[4].diff);

//
//var min = Math.min(...bestMatcharr);
//console.log(min);

//function sumArraysABS ( array1, array2) {
//    var arrSum = array1.map(function (num, idx) {
//        return Math.abs(num - array2[idx]);
//    });
//    return { param: arrSum};
//}
//    a = [1,2,3];
//    b = [10,3,4];
//
//    console.log(sumArraysABS(a,b));
//$.each(friendsData,function (index, value) {
//    console.log(index + ": " + value.name);
//});

//function sumArraysABS ( array1, array2) {
//    var arrDiff = array1.map(function (num, idx) {
//        return Math.abs(num - array2[idx]);
//    });
//    var sum = arrDiff.reduce(function (a, b) {
//        return a + b;
//    }, 0);
//    return sum;
//}
//
//a = [1,2,3];
//b = [10,3,4];
//
//console.log(sumArraysABS(a,b));
//
//$.each(friendsData,function (index, value) {
//    console.log(index + ": " + value.name);
//});




</script>
</html>